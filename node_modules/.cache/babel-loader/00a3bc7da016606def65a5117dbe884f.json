{"ast":null,"code":"var _s = $RefreshSig$();\n\n/**\r\n=========================================================\r\n* Material Dashboard 2 React - v2.0.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\r\n* Copyright 2021 Creative Tim (https://www.creative-tim.com)\r\n\r\nCoded by www.creative-tim.com\r\n\r\n =========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n*/\nimport { useEffect, useState } from \"react\";\nimport GHeaders from \"getHeader\";\nimport { useNavigate } from \"react-router-dom\";\nexport default function ReportsPollData() {\n  _s();\n\n  const {\n    allGHeaders: miHeaders\n  } = GHeaders();\n  const navigate = useNavigate();\n  const [resultx, setResult] = useState(\"\");\n  console.log(resultx);\n  useEffect(() => {\n    const headers = miHeaders;\n    const data11 = JSON.parse(localStorage.getItem(\"user1\"));\n    const orgIDs = data11.orgID;\n    const queryString = window.location.search;\n    const urlParams = new URLSearchParams(queryString);\n    const pollids = urlParams.get(\"id\");\n    let isMounted = true;\n    fetch(`${process.env.REACT_APP_KUBU_URL}/poll/getResults/${orgIDs}/${pollids}`, {\n      headers\n    }).then(async res => {\n      const aToken = res.headers.get(\"token-1\");\n      localStorage.setItem(\"rexxdex\", aToken);\n      return res.json();\n    }).then(result => {\n      if (result.message === \"Expired Access\") {\n        navigate(\"/authentication/sign-in\");\n        window.location.reload();\n      }\n\n      if (result.message === \"Token Does Not Exist\") {\n        navigate(\"/authentication/sign-in\");\n        window.location.reload();\n      }\n\n      if (result.message === \"Unauthorized Access\") {\n        navigate(\"/authentication/forbiddenPage\");\n        window.location.reload();\n      }\n\n      if (isMounted) {\n        setResult(result);\n        console.log(result);\n      }\n    });\n    return () => {\n      isMounted = false;\n    };\n  }, []);\n  return {\n    labels: [\"M\", \"T\", \"W\", \"T\", \"F\", \"S\", \"S\"],\n    datasets: {\n      label: \"Sales\",\n      data: [50, 20, 10, 22, 50, 10, 40]\n    }\n  };\n}\n\n_s(ReportsPollData, \"TE+iLZt7zwiZd48iFj58Brx2AWo=\", false, function () {\n  return [useNavigate];\n});\n\n_c = ReportsPollData;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReportsPollData\");","map":{"version":3,"names":["useEffect","useState","GHeaders","useNavigate","ReportsPollData","allGHeaders","miHeaders","navigate","resultx","setResult","console","log","headers","data11","JSON","parse","localStorage","getItem","orgIDs","orgID","queryString","window","location","search","urlParams","URLSearchParams","pollids","get","isMounted","fetch","process","env","REACT_APP_KUBU_URL","then","res","aToken","setItem","json","result","message","reload","labels","datasets","label","data"],"sources":["C:/Users/ABIOYE DANIEL/Desktop/PlutospaceMono/src/layouts/dashboard/data/reportsBarChartData.js"],"sourcesContent":["/**\r\n=========================================================\r\n* Material Dashboard 2 React - v2.0.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\r\n* Copyright 2021 Creative Tim (https://www.creative-tim.com)\r\n\r\nCoded by www.creative-tim.com\r\n\r\n =========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n*/\r\nimport { useEffect, useState } from \"react\";\r\nimport GHeaders from \"getHeader\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function ReportsPollData() {\r\n  const { allGHeaders: miHeaders } = GHeaders();\r\n  const navigate = useNavigate();\r\n  const [resultx, setResult] = useState(\"\");\r\n  console.log(resultx);\r\n\r\n  useEffect(() => {\r\n    const headers = miHeaders;\r\n    const data11 = JSON.parse(localStorage.getItem(\"user1\"));\r\n\r\n    const orgIDs = data11.orgID;\r\n\r\n    const queryString = window.location.search;\r\n    const urlParams = new URLSearchParams(queryString);\r\n    const pollids = urlParams.get(\"id\");\r\n\r\n    let isMounted = true;\r\n    fetch(`${process.env.REACT_APP_KUBU_URL}/poll/getResults/${orgIDs}/${pollids}`, { headers })\r\n      .then(async (res) => {\r\n        const aToken = res.headers.get(\"token-1\");\r\n        localStorage.setItem(\"rexxdex\", aToken);\r\n        return res.json();\r\n      })\r\n      .then((result) => {\r\n        if (result.message === \"Expired Access\") {\r\n          navigate(\"/authentication/sign-in\");\r\n          window.location.reload();\r\n        }\r\n        if (result.message === \"Token Does Not Exist\") {\r\n          navigate(\"/authentication/sign-in\");\r\n          window.location.reload();\r\n        }\r\n        if (result.message === \"Unauthorized Access\") {\r\n          navigate(\"/authentication/forbiddenPage\");\r\n          window.location.reload();\r\n        }\r\n        if (isMounted) {\r\n          setResult(result);\r\n          console.log(result);\r\n        }\r\n      });\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    labels: [\"M\", \"T\", \"W\", \"T\", \"F\", \"S\", \"S\"],\r\n    datasets: { label: \"Sales\", data: [50, 20, 10, 22, 50, 10, 40] },\r\n  };\r\n}\r\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,eAAe,SAASC,eAAT,GAA2B;EAAA;;EACxC,MAAM;IAAEC,WAAW,EAAEC;EAAf,IAA6BJ,QAAQ,EAA3C;EACA,MAAMK,QAAQ,GAAGJ,WAAW,EAA5B;EACA,MAAM,CAACK,OAAD,EAAUC,SAAV,IAAuBR,QAAQ,CAAC,EAAD,CAArC;EACAS,OAAO,CAACC,GAAR,CAAYH,OAAZ;EAEAR,SAAS,CAAC,MAAM;IACd,MAAMY,OAAO,GAAGN,SAAhB;IACA,MAAMO,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAf;IAEA,MAAMC,MAAM,GAAGL,MAAM,CAACM,KAAtB;IAEA,MAAMC,WAAW,GAAGC,MAAM,CAACC,QAAP,CAAgBC,MAApC;IACA,MAAMC,SAAS,GAAG,IAAIC,eAAJ,CAAoBL,WAApB,CAAlB;IACA,MAAMM,OAAO,GAAGF,SAAS,CAACG,GAAV,CAAc,IAAd,CAAhB;IAEA,IAAIC,SAAS,GAAG,IAAhB;IACAC,KAAK,CAAE,GAAEC,OAAO,CAACC,GAAR,CAAYC,kBAAmB,oBAAmBd,MAAO,IAAGQ,OAAQ,EAAxE,EAA2E;MAAEd;IAAF,CAA3E,CAAL,CACGqB,IADH,CACQ,MAAOC,GAAP,IAAe;MACnB,MAAMC,MAAM,GAAGD,GAAG,CAACtB,OAAJ,CAAYe,GAAZ,CAAgB,SAAhB,CAAf;MACAX,YAAY,CAACoB,OAAb,CAAqB,SAArB,EAAgCD,MAAhC;MACA,OAAOD,GAAG,CAACG,IAAJ,EAAP;IACD,CALH,EAMGJ,IANH,CAMSK,MAAD,IAAY;MAChB,IAAIA,MAAM,CAACC,OAAP,KAAmB,gBAAvB,EAAyC;QACvChC,QAAQ,CAAC,yBAAD,CAAR;QACAc,MAAM,CAACC,QAAP,CAAgBkB,MAAhB;MACD;;MACD,IAAIF,MAAM,CAACC,OAAP,KAAmB,sBAAvB,EAA+C;QAC7ChC,QAAQ,CAAC,yBAAD,CAAR;QACAc,MAAM,CAACC,QAAP,CAAgBkB,MAAhB;MACD;;MACD,IAAIF,MAAM,CAACC,OAAP,KAAmB,qBAAvB,EAA8C;QAC5ChC,QAAQ,CAAC,+BAAD,CAAR;QACAc,MAAM,CAACC,QAAP,CAAgBkB,MAAhB;MACD;;MACD,IAAIZ,SAAJ,EAAe;QACbnB,SAAS,CAAC6B,MAAD,CAAT;QACA5B,OAAO,CAACC,GAAR,CAAY2B,MAAZ;MACD;IACF,CAvBH;IAwBA,OAAO,MAAM;MACXV,SAAS,GAAG,KAAZ;IACD,CAFD;EAGD,CAtCQ,EAsCN,EAtCM,CAAT;EAwCA,OAAO;IACLa,MAAM,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,CADH;IAELC,QAAQ,EAAE;MAAEC,KAAK,EAAE,OAAT;MAAkBC,IAAI,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB;IAAxB;EAFL,CAAP;AAID;;GAlDuBxC,e;UAELD,W;;;KAFKC,e"},"metadata":{},"sourceType":"module"}