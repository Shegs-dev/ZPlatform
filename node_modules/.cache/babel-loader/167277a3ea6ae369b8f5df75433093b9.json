{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\"; // import PHeaders from \"postHeader\";\n\nimport GHeaders from \"getHeader\";\nimport { useNavigate } from \"react-router-dom\";\nexport default function TimeOffRequestJourney() {\n  _s();\n\n  const [items, setItems] = useState([]); // const [newEvent, setNewEvent] = useState({ title: \"\", time: \"\" });\n  // const { columns: pColumns, rows: pRows } = ForwardTimeOffRequests();\n\n  const navigate = useNavigate(); // const { allPHeaders: myHeaders } = PHeaders();\n\n  const {\n    allGHeaders: miHeaders\n  } = GHeaders();\n  const queryString = window.location.search;\n  const urlParams = new URLSearchParams(queryString);\n  const eTOTId = urlParams.get(\"id\");\n  useEffect(() => {\n    const headers = miHeaders;\n    let isMounted = true;\n    fetch(`${process.env.REACT_APP_NSUTANA_URL}/timeoffjourney/getByTimeOff/${eTOTId}`, {\n      headers\n    }).then(async res => {\n      const aToken = res.headers.get(\"token-1\");\n      localStorage.setItem(\"rexxdex\", aToken);\n      return res.json();\n    }).then(result => {\n      if (result.message === \"Expired Access\") {\n        navigate(\"/authentication/sign-in\");\n        window.location.reload();\n      }\n\n      if (result.message === \"Token Does Not Exist\") {\n        navigate(\"/authentication/sign-in\");\n        window.location.reload();\n      }\n\n      if (result.message === \"Unauthorized Access\") {\n        navigate(\"/authentication/forbiddenPage\");\n        window.location.reload();\n      }\n\n      if (isMounted) {\n        setItems(result);\n      }\n    });\n    return () => {\n      isMounted = false;\n    };\n  }, []);\n\n  const changeTime = timestamp => {\n    const time = new Date(timestamp);\n    const hours = time.getHours();\n    const minutes = time.getMinutes();\n    const seconds = time.getSeconds();\n    const retTime = time.toDateString(); // .getTime\n    // eslint-disable-next-line prefer-template\n\n    const retHMS = hours + \":\" + minutes + \":\" + seconds; // eslint-disable-next-line prefer-template\n\n    return retTime + \" \" + retHMS;\n  };\n\n  return {\n    columns: [{\n      Header: \"Current Holder Name\",\n      accessor: \"currentHolderName\",\n      align: \"left\"\n    }, // { Header: \"Created Time\", accessor: \"createdTime\", align: \"left\" },\n    {\n      Header: \"Created Time\",\n      accessor: \"createdTime\",\n      Cell: _ref => {\n        let {\n          cell: {\n            value\n          }\n        } = _ref;\n        return changeTime(value);\n      },\n      align: \"left\"\n    }],\n    rows: items\n  };\n}\n\n_s(TimeOffRequestJourney, \"K4zs12HydVpcriwJbXPqsjCjNz0=\", false, function () {\n  return [useNavigate];\n});\n\n_c = TimeOffRequestJourney;\n\nvar _c;\n\n$RefreshReg$(_c, \"TimeOffRequestJourney\");","map":{"version":3,"names":["useEffect","useState","GHeaders","useNavigate","TimeOffRequestJourney","items","setItems","navigate","allGHeaders","miHeaders","queryString","window","location","search","urlParams","URLSearchParams","eTOTId","get","headers","isMounted","fetch","process","env","REACT_APP_NSUTANA_URL","then","res","aToken","localStorage","setItem","json","result","message","reload","changeTime","timestamp","time","Date","hours","getHours","minutes","getMinutes","seconds","getSeconds","retTime","toDateString","retHMS","columns","Header","accessor","align","Cell","cell","value","rows"],"sources":["C:/Users/HP/PlutospaceMono/src/layouts/timeoffRequests/timeOffRequestJourney/table/timeOffJourneyAdd.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n// import PHeaders from \"postHeader\";\r\nimport GHeaders from \"getHeader\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function TimeOffRequestJourney() {\r\n  const [items, setItems] = useState([]);\r\n\r\n  // const [newEvent, setNewEvent] = useState({ title: \"\", time: \"\" });\r\n\r\n  // const { columns: pColumns, rows: pRows } = ForwardTimeOffRequests();\r\n\r\n  const navigate = useNavigate();\r\n\r\n  // const { allPHeaders: myHeaders } = PHeaders();\r\n  const { allGHeaders: miHeaders } = GHeaders();\r\n\r\n  const queryString = window.location.search;\r\n  const urlParams = new URLSearchParams(queryString);\r\n  const eTOTId = urlParams.get(\"id\");\r\n\r\n  useEffect(() => {\r\n    const headers = miHeaders;\r\n    let isMounted = true;\r\n    fetch(`${process.env.REACT_APP_NSUTANA_URL}/timeoffjourney/getByTimeOff/${eTOTId}`, { headers })\r\n      .then(async (res) => {\r\n        const aToken = res.headers.get(\"token-1\");\r\n        localStorage.setItem(\"rexxdex\", aToken);\r\n        return res.json();\r\n      })\r\n      .then((result) => {\r\n        if (result.message === \"Expired Access\") {\r\n          navigate(\"/authentication/sign-in\");\r\n          window.location.reload();\r\n        }\r\n        if (result.message === \"Token Does Not Exist\") {\r\n          navigate(\"/authentication/sign-in\");\r\n          window.location.reload();\r\n        }\r\n        if (result.message === \"Unauthorized Access\") {\r\n          navigate(\"/authentication/forbiddenPage\");\r\n          window.location.reload();\r\n        }\r\n        if (isMounted) {\r\n          setItems(result);\r\n        }\r\n      });\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []);\r\n\r\n  const changeTime = (timestamp) => {\r\n    const time = new Date(timestamp);\r\n    const hours = time.getHours();\r\n    const minutes = time.getMinutes();\r\n    const seconds = time.getSeconds();\r\n    const retTime = time.toDateString(); // .getTime\r\n    // eslint-disable-next-line prefer-template\r\n    const retHMS = hours + \":\" + minutes + \":\" + seconds;\r\n    // eslint-disable-next-line prefer-template\r\n    return retTime + \" \" + retHMS;\r\n  };\r\n\r\n  return {\r\n    columns: [\r\n      { Header: \"Current Holder Name\", accessor: \"currentHolderName\", align: \"left\" },\r\n      // { Header: \"Created Time\", accessor: \"createdTime\", align: \"left\" },\r\n      {\r\n        Header: \"Created Time\",\r\n        accessor: \"createdTime\",\r\n        Cell: ({ cell: { value } }) => changeTime(value),\r\n        align: \"left\",\r\n      },\r\n    ],\r\n\r\n    rows: items,\r\n  };\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}